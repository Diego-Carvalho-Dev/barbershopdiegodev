exports.id=99,exports.ids=[99],exports.modules={32461:(e,a,s)=>{let r={bef6f5464930838963256cf5e8db656c38537663:()=>Promise.resolve().then(s.bind(s,11773)).then(e=>e.cancelBooking)};async function t(e,...a){return(await r[e]()).apply(null,a)}e.exports={bef6f5464930838963256cf5e8db656c38537663:t.bind(null,"bef6f5464930838963256cf5e8db656c38537663")}},23375:(e,a,s)=>{"use strict";s.d(a,{Z:()=>c});var r=s(95344),t=s(22156),l=s(49494),n=s(36425);let c=({booking:e})=>r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-3 gap-3 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h2",{className:"font-bold",children:e.service.name}),(0,r.jsxs)("h3",{className:"font-bold text-sm",children:[" ",Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(e.service.price))]})]}),e.date&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h3",{className:"text-gray-400 text-sm",children:"Data"}),r.jsx("h4",{className:"text-sm",children:(0,t.WU)(e.date,"dd 'de' MMMM",{locale:l.F})})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h3",{className:"text-gray-400 text-sm",children:"Hor\xe1rio"}),r.jsx("h4",{className:"text-sm",children:(0,t.WU)(e.date,"hh:mm")})]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("h3",{className:"text-gray-400 text-sm",children:"Barbearia"}),r.jsx("h4",{className:"text-sm",children:e.barbershop.name})]})]})})},71891:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>q});var r=s(95344),t=s(21032),l=s(86610),n=s(36425),c=s(60522),d=s(22156),i=s(49494),o=s(65817),x=s(89410),m=s(44996);s(13664);var f=(0,s(28371).$)("bef6f5464930838963256cf5e8db656c38537663"),h=s(34755),u=s(3729),p=s(42739),j=s(65651),b=s(98462),N=s(31405),v=s(58197),g=s(85222),y=s(32751);let[w,_]=(0,b.b)("AlertDialog",[v.p8]),D=(0,v.p8)(),E=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,t=D(s);return(0,u.createElement)(v.xz,(0,j.Z)({},t,r,{ref:a}))}),R=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,t=D(s);return(0,u.createElement)(v.aV,(0,j.Z)({},t,r,{ref:a}))}),C="AlertDialogContent",[A,Z]=w(C),z=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,children:r,...t}=e,l=D(s),n=(0,u.useRef)(null),c=(0,N.e)(a,n),d=(0,u.useRef)(null);return(0,u.createElement)(v.jm,{contentName:C,titleName:F,docsSlug:"alert-dialog"},(0,u.createElement)(A,{scope:s,cancelRef:d},(0,u.createElement)(v.VY,(0,j.Z)({role:"alertdialog"},l,t,{ref:c,onOpenAutoFocus:(0,g.M)(t.onOpenAutoFocus,e=>{var a;e.preventDefault(),null===(a=d.current)||void 0===a||a.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault()}),(0,u.createElement)(y.A4,null,r),!1)))}),F="AlertDialogTitle",k=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,t=D(s);return(0,u.createElement)(v.Dx,(0,j.Z)({},t,r,{ref:a}))}),M=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,t=D(s);return(0,u.createElement)(v.dk,(0,j.Z)({},t,r,{ref:a}))}),P=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,t=D(s);return(0,u.createElement)(v.x8,(0,j.Z)({},t,r,{ref:a}))}),S=(0,u.forwardRef)((e,a)=>{let{__scopeAlertDialog:s,...r}=e,{cancelRef:t}=Z("AlertDialogCancel",s),l=D(s),n=(0,N.e)(a,t);return(0,u.createElement)(v.x8,(0,j.Z)({},l,r,{ref:n}))});var U=s(63723);let O=e=>{let{__scopeAlertDialog:a,...s}=e,r=D(a);return(0,u.createElement)(v.fC,(0,j.Z)({},r,s,{modal:!0}))},T=e=>{let{__scopeAlertDialog:a,...s}=e,r=D(a);return(0,u.createElement)(v.h_,(0,j.Z)({},r,s))},I=u.forwardRef(({className:e,...a},s)=>r.jsx(R,{className:(0,U.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));I.displayName=R.displayName;let B=u.forwardRef(({className:e,...a},s)=>(0,r.jsxs)(T,{children:[r.jsx(I,{}),r.jsx(z,{ref:s,className:(0,U.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));B.displayName=z.displayName;let L=({className:e,...a})=>r.jsx("div",{className:(0,U.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});L.displayName="AlertDialogHeader";let W=({className:e,...a})=>r.jsx("div",{className:(0,U.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});W.displayName="AlertDialogFooter";let V=u.forwardRef(({className:e,...a},s)=>r.jsx(k,{ref:s,className:(0,U.cn)("text-lg font-semibold",e),...a}));V.displayName=k.displayName;let Y=u.forwardRef(({className:e,...a},s)=>r.jsx(M,{ref:s,className:(0,U.cn)("text-sm text-muted-foreground",e),...a}));Y.displayName=M.displayName;let G=u.forwardRef(({className:e,...a},s)=>r.jsx(P,{ref:s,className:(0,U.cn)((0,m.d)({variant:"destructive"}),e),...a}));G.displayName=P.displayName;let H=u.forwardRef(({className:e,...a},s)=>r.jsx(S,{ref:s,className:(0,U.cn)((0,m.d)({variant:"secondary"}),"mt-2 sm:mt-0",e),...a}));H.displayName=S.displayName;var $=s(23375);let q=({booking:e})=>{var a;let[s,j]=(0,u.useState)(!1),b=(a=e.date,+(0,c.Q)(a)>Date.now()),N=async()=>{j(!0);try{await f(e.id),h.A.success("Reserva cancelada com sucesso!")}catch(e){console.error(e)}finally{j(!1)}};return(0,r.jsxs)(o.yo,{children:[r.jsx(o.aM,{asChild:!0,children:r.jsx(n.Zb,{className:"min-w-full",children:(0,r.jsxs)(n.aY,{className:"py-0 flex px-0",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 py-5 flex-[3] pl-5",children:[r.jsx(l.C,{variant:b?"default":"secondary",className:"w-fit",children:b?"Confirmado":"Finalizado"}),r.jsx("h2",{className:"font-bold",children:e.service.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(t.qE,{className:"h-6 w-6",children:[r.jsx(t.F$,{src:e.barbershop.imageUrl}),r.jsx(t.Q5,{children:"A"})]}),r.jsx("h3",{className:"text-sm",children:e.barbershop.name})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 border-l border-solid border-secondary",children:[r.jsx("p",{className:"text-sm capitalize",children:(0,d.WU)(e.date,"MMMM",{locale:i.F})}),r.jsx("p",{className:"text-2xl",children:(0,d.WU)(e.date,"dd")}),r.jsx("p",{className:"text-sm",children:(0,d.WU)(e.date,"hh:mm")})]})]})})}),(0,r.jsxs)(o.ue,{className:"px-0",children:[r.jsx(o.Tu,{className:"px-5 text-left pb-6 border-b border-solid border-secondary",children:r.jsx(o.bC,{children:"Informa\xe7\xf5es da Reserva"})}),(0,r.jsxs)("div",{className:"px-5",children:[(0,r.jsxs)("div",{className:"relative h-[180px] w-full mt-6",children:[r.jsx(x.default,{src:"/barbershop-map.png",fill:!0,alt:e.barbershop.name}),r.jsx("div",{className:"w-full absolute bottom-4 left-0 px-5",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-3 flex gap-2",children:[r.jsx(t.qE,{children:r.jsx(t.F$,{src:e.barbershop.imageUrl})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"font-bold",children:e.barbershop.name}),r.jsx("h3",{className:"text-xs overflow-hidden text-nowrap text-ellipsis",children:e.barbershop.address})]})]})})})]}),r.jsx(l.C,{variant:b?"default":"secondary",className:"w-fit my-3",children:b?"Confirmado":"Finalizado"}),r.jsx($.Z,{booking:e}),(0,r.jsxs)(o.FF,{className:"flex-row gap-3 mt-6",children:[r.jsx(o.sw,{asChild:!0,children:r.jsx(m.z,{className:"w-full",variant:"secondary",children:"Voltar"})}),(0,r.jsxs)(O,{children:[r.jsx(E,{asChild:!0,children:r.jsx(m.z,{disabled:!b||s,className:"w-full",variant:"destructive",children:"Cancelar Reserva"})}),(0,r.jsxs)(B,{className:"w-[90%]",children:[(0,r.jsxs)(L,{children:[r.jsx(V,{children:"Deseja mesmo cancelar essa reserva?"}),r.jsx(Y,{children:"Uma vez cancelada, n\xe3o ser\xe1 poss\xedvel reverter essa a\xe7\xe3o."})]}),(0,r.jsxs)(W,{className:"flex-row gap-3",children:[r.jsx(H,{className:"w-full mt-0",children:"Voltar"}),(0,r.jsxs)(G,{disabled:s,className:"w-full",onClick:N,children:[s&&r.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmar"]})]})]})]})]})]})]})]})}},65260:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var r=s(95344),t=s(89410),l=s(36425),n=s(44996),c=s(98200),d=s(65817),i=s(92295),o=s(56506);let x=()=>r.jsx("header",{children:r.jsx(l.Zb,{children:(0,r.jsxs)(l.aY,{className:"p-5 justify-between items-center flex flex-row",children:[r.jsx(o.default,{href:"/",children:r.jsx(t.default,{src:"/logo.png",alt:"FSW Barber",height:18,width:120})}),(0,r.jsxs)(d.yo,{children:[r.jsx(d.aM,{asChild:!0,children:r.jsx(n.z,{variant:"outline",size:"icon",children:r.jsx(c.Z,{size:16})})}),r.jsx(d.ue,{className:"p-0",children:r.jsx(i.Z,{})})]})]})})})},86610:(e,a,s)=>{"use strict";s.d(a,{C:()=>c});var r=s(95344);s(3729);var t=s(88720),l=s(63723);let n=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-[#221C3D] text-primary hover:bg-[#221C3D]",secondary:"border-transparent bg-secondary text-gray-400 hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:a,...s}){return r.jsx("div",{className:(0,l.cn)(n({variant:a}),e),...s})}},11773:(e,a,s)=>{"use strict";s.r(a),s.d(a,{cancelBooking:()=>c});var r=s(98601);s(75811);var t=s(43811),l=s(11059),n=s(46893);let c=async e=>{await l.db.booking.delete({where:{id:e}}),(0,t.revalidatePath)("/"),(0,t.revalidatePath)("/bookings")};(0,n.ensureServerEntryExports)([c]),(0,r.createActionProxy)("bef6f5464930838963256cf5e8db656c38537663",c)},25141:(e,a,s)=>{"use strict";s.d(a,{ZP:()=>n});let r=(0,s(86843).createProxy)(String.raw`/home/kali/Área de trabalho/barbershopdiegodev/app/_components/booking-item.tsx`),{__esModule:t,$$typeof:l}=r,n=r.default},72381:(e,a,s)=>{"use strict";s.d(a,{ZP:()=>n});let r=(0,s(86843).createProxy)(String.raw`/home/kali/Área de trabalho/barbershopdiegodev/app/_components/header.tsx`),{__esModule:t,$$typeof:l}=r,n=r.default},13018:(e,a,s)=>{"use strict";s.d(a,{L:()=>n});var r=s(18476),t=s(65822),l=s(10375);let n={adapter:(0,t.N)(r.db),providers:[(0,l.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{session:async({session:e,user:a})=>(e.user={...e.user,id:a.id},e)},secret:process.env.NEXT_AUTH_SECRET}},11059:(e,a,s)=>{"use strict";s.d(a,{db:()=>r});let r=new(s(53524)).PrismaClient}};
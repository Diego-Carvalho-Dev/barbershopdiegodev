(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{3454:function(e,t,s){Promise.resolve().then(s.bind(s,4562)),Promise.resolve().then(s.bind(s,9374))},9075:function(e,t,s){"use strict";var a=s(3827),r=s(5890),n=s(458),l=s(9555);t.Z=e=>{let{booking:t}=e;return(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-3 gap-3 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h2",{className:"font-bold",children:t.service.name}),(0,a.jsxs)("h3",{className:"font-bold text-sm",children:[" ",Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(t.service.price))]})]}),t.date&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h3",{className:"text-gray-400 text-sm",children:"Data"}),(0,a.jsx)("h4",{className:"text-sm",children:(0,r.WU)(t.date,"dd 'de' MMMM",{locale:n.F})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h3",{className:"text-gray-400 text-sm",children:"Hor\xe1rio"}),(0,a.jsx)("h4",{className:"text-sm",children:(0,r.WU)(t.date,"hh:mm")})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h3",{className:"text-gray-400 text-sm",children:"Barbearia"}),(0,a.jsx)("h4",{className:"text-sm",children:t.barbershop.name})]})]})})}},8904:function(e,t,s){"use strict";var a=s(3827),r=s(1126),n=s(1697),l=s(6488),i=s(3700),d=s(1049),o=s(1213),c=s(2244),u=s(5005),f=s(7307),m=s(8792);t.Z=()=>{var e,t;let{data:s}=(0,r.useSession)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Tu,{className:"text-left border-b border-solid border-secondary p-5",children:(0,a.jsx)(n.bC,{children:"Menu"})}),(null==s?void 0:s.user)?(0,a.jsxs)("div",{className:"flex justify-between px-5 py-6 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.qE,{children:(0,a.jsx)(l.F$,{src:null!==(t=null===(e=s.user)||void 0===e?void 0:e.image)&&void 0!==t?t:""})}),(0,a.jsx)("h2",{className:"font-bold",children:s.user.name})]}),(0,a.jsx)(i.z,{variant:"secondary",size:"icon",children:(0,a.jsx)(d.Z,{onClick:()=>(0,r.signOut)()})})]}):(0,a.jsxs)("div",{className:"flex flex-col px-5 py-6 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{size:32}),(0,a.jsx)("h2",{className:"font-bold",children:"Ol\xe1, fa\xe7a seu login!"})]}),(0,a.jsxs)(i.z,{variant:"secondary",className:"w-full justify-start",onClick:()=>(0,r.signIn)("google"),children:[(0,a.jsx)(c.Z,{className:"mr-2",size:18}),"Fazer Login"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 px-5",children:[(0,a.jsx)(i.z,{variant:"outline",className:"justify-start",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/",children:[(0,a.jsx)(u.Z,{size:18,className:"mr-2"}),"In\xedcio"]})}),(null==s?void 0:s.user)&&(0,a.jsx)(i.z,{variant:"outline",className:"justify-start",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/bookings",children:[(0,a.jsx)(f.Z,{size:18,className:"mr-2"}),"Agendamentos"]})})]})]})}},6488:function(e,t,s){"use strict";s.d(t,{F$:function(){return d},Q5:function(){return o},qE:function(){return i}});var a=s(3827),r=s(4090),n=s(2178),l=s(7901);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.fC,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=n.fC.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Ee,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",s),...r})});d.displayName=n.Ee.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.NY,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});o.displayName=n.NY.displayName},3700:function(e,t,s){"use strict";s.d(t,{d:function(){return d},z:function(){return o}});var a=s(3827),r=s(4090),n=s(9143),l=s(7742),i=s(7901);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"border border-primary bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:r,size:l,className:s})),ref:t,...c})});o.displayName="Button"},9555:function(e,t,s){"use strict";s.d(t,{Zb:function(){return l},aY:function(){return i}});var a=s(3827),r=s(4090),n=s(7901);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});i.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},1697:function(e,t,s){"use strict";s.d(t,{FF:function(){return b},Tu:function(){return p},aM:function(){return c},bC:function(){return y},sw:function(){return u},ue:function(){return h},yo:function(){return o}});var a=s(3827),r=s(4090),n=s(2615),l=s(7742),i=s(2235),d=s(7901);let o=n.fC,c=n.xz,u=n.x8,f=n.h_,m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});m.displayName=n.aV.displayName;let x=(0,l.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:l,...o}=e;return(0,a.jsxs)(f,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,d.cn)(x({side:s}),r),...o,children:[l,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=n.VY.displayName;let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};p.displayName="SheetHeader";let b=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};b.displayName="SheetFooter";let y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...r})});y.displayName=n.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})}).displayName=n.dk.displayName},7901:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(3167),r=s(1367);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},4562:function(e,t,s){"use strict";s.r(t);var a=s(3827),r=s(8904),n=s(3700),l=s(1697),i=s(9108),d=s(9744),o=s(2457),c=s(5879),u=s(703),f=s(7907);t.default=e=>{let{barbershop:t}=e,s=(0,f.useRouter)();return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"h-[250px] w-full relative",children:[(0,a.jsx)(n.z,{onClick:()=>{s.replace("/")},size:"icon",variant:"outline",className:"z-50 absolute top-4 left-4",children:(0,a.jsx)(i.Z,{})}),(0,a.jsxs)(l.yo,{children:[(0,a.jsx)(l.aM,{asChild:!0,children:(0,a.jsx)(n.z,{size:"icon",variant:"outline",className:"z-50 absolute top-4 right-4",children:(0,a.jsx)(d.Z,{})})}),(0,a.jsx)(l.ue,{className:"p-0",children:(0,a.jsx)(r.Z,{})})]}),(0,a.jsx)(u.default,{src:t.imageUrl,fill:!0,alt:t.name,style:{objectFit:"cover"},className:"opacity-75"})]}),(0,a.jsxs)("div",{className:"px-5 pt-3 pb-6 border-b border-solid border-secondary",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,a.jsx)(o.Z,{className:"text-primary",size:18}),(0,a.jsx)("p",{className:"text-sm",children:t.address})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,a.jsx)(c.Z,{className:"text-primary",size:18}),(0,a.jsx)("p",{className:"text-sm",children:"5,0 (899 avalia\xe7\xf5es)"})]})]})]})}},9374:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var a=s(3827),r=s(3700),n=s(4090),l=s(9108),i=s(7805),d=s(6463),o=s(7901);function c(e){let{className:t,classNames:s,showOutsideDays:n=!0,...c}=e;return(0,a.jsx)(d._W,{showOutsideDays:n,className:(0,o.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,r.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,r.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(l.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(i.Z,{className:"h-4 w-4"})}},...c})}c.displayName="Calendar";var u=s(9555),f=s(1697),m=s(458),x=s(1126),h=s(703),p=s(4394),b=s(6581),y=s(5890),j=s(6721),g=s(3251);s(5355);var N=s(3472),v=(0,N.$)("455a7f273793706cebed32fa2dccfce83d3b3f92"),w=s(8994),z=s(6288),C=s(7907),_=(0,N.$)("70f7ab53feba5e6bfa39bb19a66cbda1094f9b90"),k=s(9075),R=e=>{let{service:t,barbershop:s,isAuthenticated:l}=e,i=(0,C.useRouter)(),{data:d}=(0,x.useSession)(),[o,N]=(0,n.useState)(void 0),[R,Z]=(0,n.useState)(),[F,M]=(0,n.useState)(!1),[H,B]=(0,n.useState)(!1),[I,S]=(0,n.useState)([]);(0,n.useEffect)(()=>{o&&(async()=>{S(await _(s.id,o))})()},[o,s.id]);let E=e=>{Z(e)},D=async()=>{M(!0);try{if(!R||!o||!(null==d?void 0:d.user))return;let e=Number(R.split(":")[0]),a=Number(R.split(":")[1]),r=(0,p.H)((0,b.B)(o,e),a);await v({serviceId:t.id,barbershopId:s.id,date:r,userId:d.user.id}),B(!1),Z(void 0),N(void 0),(0,z.A)("Reserva realizada com sucesso!",{description:(0,y.WU)(r,"'Para' dd 'de' MMMM '\xe0s' HH':'mm'.'",{locale:m.F}),action:{label:"Visualizar",onClick:()=>i.push("/bookings")}})}catch(e){console.error(e)}finally{M(!1)}},V=(0,n.useMemo)(()=>o?(function(e){let t=(0,p.H)((0,b.B)(e,9),0),s=(0,p.H)((0,b.B)(e,21),0),a=[],r=t;for(;r<=s;)a.push((0,y.WU)(r,"HH:mm")),r=(0,j.m)(r,45);return a})(o).filter(e=>{let t=Number(e.split(":")[0]),s=Number(e.split(":")[1]);return!I.find(e=>{let a=e.date.getHours(),r=e.date.getMinutes();return a===t&&r===s})}):[],[o,I]);return(0,a.jsx)(u.Zb,{children:(0,a.jsx)(u.aY,{className:"p-3 w-full",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center w-full",children:[(0,a.jsx)("div",{className:"relative min-h-[110px] min-w-[110px] max-h-[110px] max-w-[110px]",children:(0,a.jsx)(h.default,{className:"rounded-lg",src:t.imageUrl,fill:!0,style:{objectFit:"contain"},alt:t.name})}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)("h2",{className:"font-bold",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,a.jsx)("p",{className:"text-primary text-sm font-bold",children:Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(t.price))}),(0,a.jsxs)(f.yo,{open:H,onOpenChange:B,children:[(0,a.jsx)(f.aM,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"secondary",onClick:()=>{if(!l)return(0,x.signIn)("google")},children:"Reservar"})}),(0,a.jsxs)(f.ue,{className:"p-0",children:[(0,a.jsx)(f.Tu,{className:"text-left px-5 py-6 border-b border-solid border-secondary",children:(0,a.jsx)(f.bC,{children:"Fazer Reserva"})}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)(c,{mode:"single",selected:o,onSelect:e=>{N(e),Z(void 0)},locale:m.F,fromDate:(0,g.E)(new Date,1),styles:{head_cell:{width:"100%",textTransform:"capitalize"},cell:{width:"100%"},button:{width:"100%"},nav_button_previous:{width:"32px",height:"32px"},nav_button_next:{width:"32px",height:"32px"},caption:{textTransform:"capitalize"}}})}),o&&(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto py-6 px-5 border-t border-solid border-secondary [&::-webkit-scrollbar]:hidden",children:V.map(e=>(0,a.jsx)(r.z,{onClick:()=>E(e),variant:R===e?"default":"outline",className:"rounded-full",children:e},e))}),(0,a.jsx)("div",{className:"py-6 px-5 border-t border-solid border-secondary",children:(0,a.jsx)(k.Z,{booking:{barbershop:s,date:o&&R?(0,p.H)((0,b.B)(o,Number(R.split(":")[0])),Number(R.split(":")[1])):void 0,service:t}})}),(0,a.jsx)(f.FF,{className:"px-5",children:(0,a.jsxs)(r.z,{onClick:D,disabled:!R||!o||F,children:[F&&(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmar reserva"]})})]})]})]})]})]})})})}}},function(e){e.O(0,[936,126,400,288,665,429,971,69,744],function(){return e(e.s=3454)}),_N_E=e.O()}]);